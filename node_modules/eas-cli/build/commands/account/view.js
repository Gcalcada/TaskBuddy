"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const chalk_1 = tslib_1.__importDefault(require("chalk"));
const EasCommand_1 = tslib_1.__importDefault(require("../../commandUtils/EasCommand"));
const log_1 = tslib_1.__importDefault(require("../../log"));
const User_1 = require("../../user/User");
class AccountView extends EasCommand_1.default {
    constructor() {
        super(...arguments);
        this.mustBeRunInsideProject = false;
        this.requiresAuthentication = false;
    }
    async runAsync() {
        const user = await (0, User_1.getUserAsync)();
        if (user) {
            log_1.default.log(chalk_1.default.green((0, User_1.getActorDisplayName)(user)));
        }
        else {
            log_1.default.warn('Not logged in');
            process.exit(1);
        }
    }
}
exports.default = AccountView;
AccountView.description = 'show the username you are logged in as';
AccountView.aliases = ['whoami'];
