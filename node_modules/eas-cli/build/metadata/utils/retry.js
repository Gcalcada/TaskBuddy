"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.retryIfNullAsync = exports.waitAsync = void 0;
async function waitAsync(duration) {
    return new Promise(resolve => setTimeout(resolve, duration));
}
exports.waitAsync = waitAsync;
async function retryIfNullAsync(method, options = {}) {
    var _a;
    let { tries = 5, delay = 1000 } = options;
    while (tries > 0) {
        const value = await method();
        if (value !== null) {
            return value;
        }
        tries--;
        (_a = options.onRetry) === null || _a === void 0 ? void 0 : _a.call(options, tries);
        await waitAsync(delay);
    }
    return null;
}
exports.retryIfNullAsync = retryIfNullAsync;
